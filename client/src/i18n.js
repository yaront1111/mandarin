import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// English translations
const enTranslations = {
  common: {
    login: 'Login',
    register: 'Register',
    profile: 'Profile',
    settings: 'Settings',
    messages: 'Messages',
    dashboard: 'Dashboard',
    subscription: 'Subscription',
    logout: 'Logout',
    save: 'Save',
    cancel: 'Cancel',
    delete: 'Delete',
    search: 'Search',
    send: 'Send',
    loading: 'Loading...',
    errorOccurred: 'An error occurred',
    welcome: 'Welcome',
    home: 'Home',
    verified: 'Verified',
    verifyEmail: 'Verify Email',
    back: 'Back',
    next: 'Next',
    submit: 'Submit',
    backToLogin: 'Back to Login',
    forgotPassword: 'Forgot Password?',
    noAccount: 'Don\'t have an account?',
    haveAccount: 'Already have an account?',
    signUp: 'Sign Up',
    signIn: 'Sign In',
    continueWith: 'Continue with',
    or: 'OR',
    confirmPassword: 'Confirm Password',
    close: 'Close',
    themeMode: 'Theme Mode',
    light: 'Light',
    dark: 'Dark',
    system: 'System',
  },
  auth: {
    emailAddress: 'Email Address',
    password: 'Password',
    rememberMe: 'Remember Me',
    forgotPassword: 'Forgot Password?',
    loginSuccess: 'Login successful!',
    loginFailed: 'Login failed. Please check your credentials.',
    registerSuccess: 'Registration successful!',
    registerFailed: 'Registration failed.',
    logoutSuccess: 'Logged out successfully!',
    passwordsMustMatch: 'Passwords must match',
    passwordRequirements: 'Password must be at least 8 characters',
    invalidEmail: 'Please enter a valid email address',
    requiredField: 'This field is required',
    verificationEmailSent: 'Verification email has been sent!',
    accountVerified: 'Your account has been verified!',
    verificationFailed: 'Verification failed. Please try again.',
  },
  profile: {
    editProfile: 'Edit Profile',
    personalInfo: 'Personal Information',
    username: 'Username',
    fullName: 'Full Name',
    location: 'Location',
    bio: 'Bio',
    email: 'Email',
    phone: 'Phone',
    birthday: 'Birthday',
    gender: 'Gender',
    male: 'Male',
    female: 'Female',
    other: 'Other',
    preferNotToSay: 'Prefer not to say',
    saveChanges: 'Save Changes',
    profileUpdated: 'Profile updated successfully!',
    updateFailed: 'Failed to update profile',
    uploadAvatar: 'Upload Avatar',
    changePhoto: 'Change Photo',
    removePhoto: 'Remove Photo',
    social: 'Social Links',
    aboutMe: 'About Me',
    myInterests: 'My Interests',
    lookingFor: 'Looking For',
  },
  settings: {
    accountSettings: 'Account Settings',
    profileSettings: 'Profile Settings',
    notificationSettings: 'Notification Settings',
    privacySettings: 'Privacy Settings',
    appearance: 'Appearance',
    language: 'Language',
    theme: 'Theme',
    lightMode: 'Light Mode',
    darkMode: 'Dark Mode',
    systemDefault: 'System Default',
    themeMode: 'Theme Mode',
    light: 'Light',
    dark: 'Dark',
    system: 'System',
    quickThemeToggle: 'Quick Theme Toggle',
    currentlyUsing: 'Currently using English',
    messageNotifications: 'Message Notifications',
    callNotifications: 'Call Notifications',
    storyNotifications: 'Story Notifications',
    likeNotifications: 'Like Notifications',
    commentNotifications: 'Comment Notifications',
    getNotifiedMessages: 'Get notified when you receive new messages',
    getNotifiedCalls: 'Get notified for incoming calls',
    getNotifiedStories: 'Get notified when friends post new stories',
    getNotifiedLikes: 'Get notified when someone likes your content',
    getNotifiedComments: 'Get notified when someone comments on your content',
    onlineStatus: 'Online Status',
    readReceipts: 'Read Receipts',
    lastSeen: 'Last Seen',
    storyReplies: 'Story Replies',
    showOnlineStatus: 'Show when you\'re active on the app',
    showReadReceipts: 'Let others know when you\'ve read their messages',
    showLastSeen: 'Show when you were last active',
    controlStoryReplies: 'Control who can reply to your stories',
    everyone: 'Everyone',
    friendsOnly: 'Friends only',
    noOne: 'No one',
    blockedUsers: 'Blocked Users',
    blockedUsersInfo: 'Users you\'ve blocked cannot message you or view your profile',
    loadingBlockedUsers: 'Loading blocked users...',
    noBlockedUsers: 'You haven\'t blocked any users',
    unblock: 'Unblock',
    notifications: {
      pushNotifications: 'Push Notifications',
      emailNotifications: 'Email Notifications',
      messageNotifications: 'Message Notifications',
      activityNotifications: 'Activity Notifications',
    },
    privacy: {
      whoCanSeeProfile: 'Who can see my profile',
      whoCanSendMessages: 'Who can send me messages',
      everyone: 'Everyone',
      onlyFriends: 'Only Friends',
      nobody: 'Nobody',
    },
    deleteAccount: 'Delete Account',
    deleteAccountWarning: 'This action cannot be undone',
    languages: {
      english: 'English',
      hebrew: 'Hebrew',
    },
  },
  messages: {
    newMessage: 'New Message',
    typeMessage: 'Type a message...',
    noMessages: 'No messages yet',
    startConversation: 'Start a conversation',
    searchContacts: 'Search contacts',
    online: 'Online',
    offline: 'Offline',
    typing: 'typing...',
    messageSent: 'Message sent',
    messageFailed: 'Failed to send message',
    deleteConversation: 'Delete Conversation',
    deleteMessage: 'Delete Message',
  },
  subscriptions: {
    yourSubscription: 'Your Subscription',
    currentPlan: 'Current Plan',
    upgradePlan: 'Upgrade Plan',
    managePlan: 'Manage Plan',
    billingInfo: 'Billing Information',
    paymentHistory: 'Payment History',
    freeTier: 'Free Tier',
    paidTier: 'Premium Tier',
    upgradeToday: 'Upgrade Today',
    features: 'Features',
    benefits: 'Benefits',
    price: 'Price',
    monthly: 'Monthly',
    yearly: 'Yearly',
    limitedFeatures: 'Limited Features',
    fullAccess: 'Full Access',
    upgradeSuccess: 'Upgrade successful!',
    paymentFailed: 'Payment failed',
  },
  stories: {
    yourStories: 'Your Stories',
    viewStory: 'View Story',
    createStory: 'Create Story',
    addToStory: 'Add to Your Story',
    shareStory: 'Share Story',
    storyPrivacy: 'Story Privacy',
    storySettings: 'Story Settings',
    expiresIn: 'Expires in',
    hours: 'hours',
    whoCanSee: 'Who can see your story',
    everyone: 'Everyone',
    friends: 'Friends',
    closeStory: 'Close Story',
    uploadImage: 'Upload Image',
    addText: 'Add Text',
    storyCreated: 'Story created successfully!',
    createFailed: 'Failed to create story',
  },
  validation: {
    required: 'This field is required',
    minLength: 'Minimum length is {{length}} characters',
    maxLength: 'Maximum length is {{length}} characters',
    email: 'Please enter a valid email address',
    passwordMatch: 'Passwords must match',
    passwordStrength: 'Password must include at least 8 characters, one uppercase letter, one lowercase letter, and one number',
  },
  errors: {
    generalError: 'Something went wrong. Please try again later.',
    notFound: 'Page not found',
    unauthorized: 'You must be logged in to access this page',
    forbidden: 'You don\'t have permission to access this page',
    networkError: 'Network error. Please check your connection and try again.',
    backToHome: 'Back to Home',
  },
  notifications: {
    newMessage: 'You have a new message from {{name}}',
    newLike: '{{name}} liked your profile',
    newComment: '{{name}} commented on your post',
    newFollower: '{{name}} started following you',
    markAllRead: 'Mark all as read',
    clearAll: 'Clear all',
    noNotifications: 'No notifications',
  }
};

// Hebrew translations
const heTranslations = {
  common: {
    login: 'התחברות',
    register: 'הרשמה',
    profile: 'פרופיל',
    settings: 'הגדרות',
    messages: 'הודעות',
    dashboard: 'לוח הבקרה',
    subscription: 'מנוי',
    logout: 'התנתקות',
    save: 'שמור',
    cancel: 'ביטול',
    delete: 'מחק',
    search: 'חיפוש',
    send: 'שלח',
    loading: 'טוען...',
    errorOccurred: 'אירעה שגיאה',
    welcome: 'ברוך הבא',
    home: 'דף הבית',
    verified: 'מאומת',
    verifyEmail: 'אמת מייל',
    back: 'חזור',
    next: 'הבא',
    submit: 'שלח',
    backToLogin: 'חזרה להתחברות',
    forgotPassword: 'שכחת סיסמה?',
    noAccount: 'אין לך חשבון?',
    haveAccount: 'כבר יש לך חשבון?',
    signUp: 'הרשם',
    signIn: 'התחבר',
    continueWith: 'המשך עם',
    or: 'או',
    confirmPassword: 'אימות סיסמה',
    close: 'סגור',
    themeMode: 'מצב תצוגה',
    light: 'בהיר',
    dark: 'כהה',
    system: 'מערכת',
  },
  auth: {
    emailAddress: 'כתובת אימייל',
    password: 'סיסמה',
    rememberMe: 'זכור אותי',
    forgotPassword: 'שכחת סיסמה?',
    loginSuccess: 'התחברת בהצלחה!',
    loginFailed: 'ההתחברות נכשלה. אנא בדוק את הפרטים שלך.',
    registerSuccess: 'נרשמת בהצלחה!',
    registerFailed: 'ההרשמה נכשלה.',
    logoutSuccess: 'התנתקת בהצלחה!',
    passwordsMustMatch: 'הסיסמאות חייבות להתאים',
    passwordRequirements: 'הסיסמה חייבת להיות באורך 8 תווים לפחות',
    invalidEmail: 'אנא הכנס כתובת אימייל תקינה',
    requiredField: 'שדה זה הוא שדה חובה',
    verificationEmailSent: 'אימייל אימות נשלח!',
    accountVerified: 'החשבון שלך אומת!',
    verificationFailed: 'האימות נכשל. אנא נסה שנית.',
  },
  profile: {
    editProfile: 'ערוך פרופיל',
    personalInfo: 'מידע אישי',
    username: 'שם משתמש',
    fullName: 'שם מלא',
    location: 'מיקום',
    bio: 'ביוגרפיה',
    email: 'אימייל',
    phone: 'טלפון',
    birthday: 'יום הולדת',
    gender: 'מגדר',
    male: 'זכר',
    female: 'נקבה',
    other: 'אחר',
    preferNotToSay: 'מעדיף לא לומר',
    saveChanges: 'שמור שינויים',
    profileUpdated: 'הפרופיל עודכן בהצלחה!',
    updateFailed: 'עדכון הפרופיל נכשל',
    uploadAvatar: 'העלה תמונת פרופיל',
    changePhoto: 'שנה תמונה',
    removePhoto: 'הסר תמונה',
    social: 'קישורים חברתיים',
    aboutMe: 'אודותיי',
    myInterests: 'תחומי העניין שלי',
    lookingFor: 'מחפש',
  },
  settings: {
    accountSettings: 'הגדרות חשבון',
    profileSettings: 'הגדרות פרופיל',
    notificationSettings: 'הגדרות התראות',
    privacySettings: 'הגדרות פרטיות',
    appearance: 'מראה',
    language: 'שפה',
    theme: 'ערכת נושא',
    lightMode: 'מצב בהיר',
    darkMode: 'מצב כהה',
    systemDefault: 'ברירת מחדל של המערכת',
    themeMode: 'מצב תצוגה',
    light: 'בהיר',
    dark: 'כהה',
    system: 'מערכת',
    quickThemeToggle: 'החלפת מצב תצוגה מהירה',
    currentlyUsing: 'השפה הנוכחית היא עברית',
    messageNotifications: 'התראות הודעות',
    callNotifications: 'התראות שיחות',
    storyNotifications: 'התראות סטורי',
    likeNotifications: 'התראות לייקים',
    commentNotifications: 'התראות תגובות',
    getNotifiedMessages: 'קבל התראות כאשר אתה מקבל הודעות חדשות',
    getNotifiedCalls: 'קבל התראות עבור שיחות נכנסות',
    getNotifiedStories: 'קבל התראות כאשר חברים מפרסמים סטורי חדש',
    getNotifiedLikes: 'קבל התראות כאשר מישהו אוהב את התוכן שלך',
    getNotifiedComments: 'קבל התראות כאשר מישהו מגיב על התוכן שלך',
    onlineStatus: 'סטטוס מקוון',
    readReceipts: 'אישורי קריאה',
    lastSeen: 'נראה לאחרונה',
    storyReplies: 'תגובות לסטורי',
    showOnlineStatus: 'הצג מתי אתה פעיל באפליקציה',
    showReadReceipts: 'הודע לאחרים כאשר קראת את ההודעות שלהם',
    showLastSeen: 'הצג מתי היית פעיל לאחרונה',
    controlStoryReplies: 'שלוט במי יכול להגיב לסטורי שלך',
    everyone: 'כולם',
    friendsOnly: 'חברים בלבד',
    noOne: 'אף אחד',
    blockedUsers: 'משתמשים חסומים',
    blockedUsersInfo: 'משתמשים שחסמת לא יכולים לשלוח לך הודעות או לצפות בפרופיל שלך',
    loadingBlockedUsers: 'טוען משתמשים חסומים...',
    noBlockedUsers: 'לא חסמת משתמשים',
    unblock: 'בטל חסימה',
    notifications: {
      pushNotifications: 'התראות דחיפה',
      emailNotifications: 'התראות אימייל',
      messageNotifications: 'התראות הודעות',
      activityNotifications: 'התראות פעילות',
    },
    privacy: {
      whoCanSeeProfile: 'מי יכול לראות את הפרופיל שלי',
      whoCanSendMessages: 'מי יכול לשלוח לי הודעות',
      everyone: 'כולם',
      onlyFriends: 'חברים בלבד',
      nobody: 'אף אחד',
    },
    deleteAccount: 'מחק חשבון',
    deleteAccountWarning: 'פעולה זו אינה ניתנת לביטול',
    languages: {
      english: 'אנגלית',
      hebrew: 'עברית',
    },
  },
  messages: {
    newMessage: 'הודעה חדשה',
    typeMessage: 'הקלד הודעה...',
    noMessages: 'אין הודעות עדיין',
    startConversation: 'התחל שיחה',
    searchContacts: 'חפש אנשי קשר',
    online: 'מחובר',
    offline: 'לא מחובר',
    typing: 'מקליד...',
    messageSent: 'ההודעה נשלחה',
    messageFailed: 'שליחת ההודעה נכשלה',
    deleteConversation: 'מחק שיחה',
    deleteMessage: 'מחק הודעה',
  },
  subscriptions: {
    yourSubscription: 'המנוי שלך',
    currentPlan: 'תוכנית נוכחית',
    upgradePlan: 'שדרג תוכנית',
    managePlan: 'נהל תוכנית',
    billingInfo: 'מידע חיוב',
    paymentHistory: 'היסטוריית תשלומים',
    freeTier: 'רמה חינמית',
    paidTier: 'רמה פרימיום',
    upgradeToday: 'שדרג היום',
    features: 'תכונות',
    benefits: 'יתרונות',
    price: 'מחיר',
    monthly: 'חודשי',
    yearly: 'שנתי',
    limitedFeatures: 'תכונות מוגבלות',
    fullAccess: 'גישה מלאה',
    upgradeSuccess: 'השדרוג בוצע בהצלחה!',
    paymentFailed: 'התשלום נכשל',
  },
  stories: {
    yourStories: 'הסטוריים שלך',
    viewStory: 'צפה בסטורי',
    createStory: 'צור סטורי',
    addToStory: 'הוסף לסטורי שלך',
    shareStory: 'שתף סטורי',
    storyPrivacy: 'פרטיות סטורי',
    storySettings: 'הגדרות סטורי',
    expiresIn: 'פג תוקף בעוד',
    hours: 'שעות',
    whoCanSee: 'מי יכול לראות את הסטורי שלך',
    everyone: 'כולם',
    friends: 'חברים',
    closeStory: 'סגור סטורי',
    uploadImage: 'העלה תמונה',
    addText: 'הוסף טקסט',
    storyCreated: 'הסטורי נוצר בהצלחה!',
    createFailed: 'יצירת הסטורי נכשלה',
  },
  validation: {
    required: 'שדה זה הינו שדה חובה',
    minLength: 'אורך מינימלי הוא {{length}} תווים',
    maxLength: 'אורך מקסימלי הוא {{length}} תווים',
    email: 'אנא הכנס כתובת אימייל תקינה',
    passwordMatch: 'הסיסמאות חייבות להתאים',
    passwordStrength: 'הסיסמה חייבת לכלול לפחות 8 תווים, אות גדולה אחת, אות קטנה אחת ומספר אחד',
  },
  errors: {
    generalError: 'משהו השתבש. אנא נסה שוב מאוחר יותר.',
    notFound: 'עמוד לא נמצא',
    unauthorized: 'עליך להתחבר כדי לגשת לעמוד זה',
    forbidden: 'אין לך הרשאה לגשת לעמוד זה',
    networkError: 'שגיאת רשת. אנא בדוק את החיבור שלך ונסה שוב.',
    backToHome: 'חזרה לדף הבית',
  },
  notifications: {
    newMessage: 'יש לך הודעה חדשה מ {{name}}',
    newLike: '{{name}} אהב את הפרופיל שלך',
    newComment: '{{name}} הגיב על הפוסט שלך',
    newFollower: '{{name}} התחיל לעקוב אחריך',
    markAllRead: 'סמן הכל כנקרא',
    clearAll: 'נקה הכל',
    noNotifications: 'אין התראות',
  }
};

// Initialize i18next
i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources: {
      en: {
        translation: enTranslations
      },
      he: {
        translation: heTranslations
      }
    },
    lng: localStorage.getItem('language') || 'en',
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false, // React already safes from XSS
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
    },
    react: {
      useSuspense: true,
    },
  });

export default i18n;